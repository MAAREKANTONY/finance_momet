{% extends "admin/change_form.html" %}
{% load static %}

{% block extrahead %}
{{ block.super }}
<script src="{% static 'js/ticker_autocomplete.js' %}"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.body.setAttribute('data-twelve-api-key', '{{ TWELVE_DATA_API_KEY }}');
    
    const codeField = document.querySelector('.field-code');
    if (codeField) {
        const helpText = document.createElement('div');
        helpText.className = 'help';
        helpText.innerHTML = 'ðŸ’¡ Tapez au moins 2 caractÃ¨res pour rechercher un ticker';
        codeField.appendChild(helpText);
    }
});
</script>
{% endblock %}
